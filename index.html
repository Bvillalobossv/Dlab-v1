<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SenseWell</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Libs en CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
</head>
<body>

  <!-- ========================= SELFIE ========================= -->
  <div id="screenFace" class="screen active">
    <h2>Comencemos el dÃ­a â˜€ï¸</h2>
    <p>Activa tu cÃ¡mara, tÃ³mate una selfie y deja que SenseWell detecte cÃ³mo te sientes hoy.</p>

    <div class="card max-700">
      <video id="video" autoplay playsinline muted class="video"></video>
      <canvas id="canvas" class="video" style="display:none;"></canvas>

      <div class="stack-sm">
        <button id="btnStartCamera" class="btn">ğŸ“¸ Activar cÃ¡mara</button>
        <button id="btnAnalyze" class="btn btn-outline" disabled>Analizar selfie</button>
      </div>

      <p id="emotionResult" class="muted"></p>
    </div>

    <button id="btnToMic" class="btn btn-secondary" disabled>Ir a medir ruido ambiental</button>
  </div>

  <!-- ========================= MEDICIÃ“N dB ========================= -->
  <div id="screenMeasure" class="screen">
    <h2>MediciÃ³n ambiental ğŸ”Š</h2>
    <p>Mide el nivel de ruido durante <b>5 segundos</b> para conocer tu entorno.</p>

    <div class="gauge-wrapper">
      <canvas id="gaugeCanvas" width="240" height="240"></canvas>
      <div class="gauge-center">
        <span id="dbDisplay" class="db-value">0</span>
        <span class="db-unit">dB</span>
        <div id="dbLabel" class="db-label">Silencioso</div>
      </div>
    </div>

    <button id="btnStartMic" class="btn">ğŸ™ï¸ Iniciar mediciÃ³n</button>
    <button id="btnResults" class="btn btn-secondary" disabled>Ver resultados</button>
  </div>

  <!-- ========================= RESULTADOS ========================= -->
  <div id="screenResults" class="screen">
    <h2>Resultados del ambiente ğŸŒ¿</h2>
    <div id="resultCard" class="card max-700"></div>
    <button id="btnRetry" class="btn btn-secondary">Medir nuevamente</button>
  </div>

  <script src="app.js"></script>
</body>
</html>
